<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"luoji.live",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="之前文章介绍了GPG签名，签名是为了防止提交被仿造。GPG签名也有一个问题：GPG签名被移除，之前提交的被签名的Commit将全部被标识为Unverify，因此不要随意删除GPG签名。通常开发者都有多台开发机，下面介绍如何迁移GPG签名。"><meta property="og:type" content="article"><meta property="og:title" content="迁移GPG密钥到另一台开发机"><meta property="og:url" content="https://luoji.live/%E5%B7%A5%E5%85%B7/migrate-gpg-20201008.html"><meta property="og:site_name" content="Jerrylou&#39;s Notes"><meta property="og:description" content="之前文章介绍了GPG签名，签名是为了防止提交被仿造。GPG签名也有一个问题：GPG签名被移除，之前提交的被签名的Commit将全部被标识为Unverify，因此不要随意删除GPG签名。通常开发者都有多台开发机，下面介绍如何迁移GPG签名。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-10-07T16:29:01.000Z"><meta property="article:modified_time" content="2021-01-13T12:48:05.935Z"><meta property="article:author" content="luoji"><meta property="article:tag" content="git"><meta property="article:tag" content="工具"><meta property="article:tag" content="gpg"><meta property="article:tag" content="encrypt"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://luoji.live/%E5%B7%A5%E5%85%B7/migrate-gpg-20201008.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>迁移GPG密钥到另一台开发机 | Jerrylou's Notes</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Jerrylou's Notes" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Jerrylou's Notes</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">labor for reward</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://luoji.live/%E5%B7%A5%E5%85%B7/migrate-gpg-20201008.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="luoji"><meta itemprop="description" content="点滴生活 乐在其中"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jerrylou's Notes"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 迁移GPG密钥到另一台开发机</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-10-08 00:29:01" itemprop="dateCreated datePublished" datetime="2020-10-08T00:29:01+08:00">2020-10-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-01-13 20:48:05" itemprop="dateModified" datetime="2021-01-13T20:48:05+08:00">2021-01-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span></span><span id="/%E5%B7%A5%E5%85%B7/migrate-gpg-20201008.html" class="post-meta-item leancloud_visitors" data-flag-title="迁移GPG密钥到另一台开发机" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>之前<a href="xxx">文章</a>介绍了GPG签名，签名是为了防止提交被仿造。GPG签名也有一个问题：GPG签名被移除，之前提交的被签名的Commit将全部被标识为Unverify，因此不要随意删除GPG签名。通常开发者都有多台开发机，下面介绍如何迁移GPG签名。</p><a id="more"></a><h3 id="查看存在的-GPG"><a href="#查看存在的-GPG" class="headerlink" title="查看存在的 GPG"></a>查看存在的 GPG</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-keys</span><br><span class="line">-------------------------------</span><br><span class="line">pub   rsa4096 2021-01-07 [SC]</span><br><span class="line"><span class="code">      C3DB73A9B0DE055246115ED2201DB741191B4EE3</span></span><br><span class="line">uid           [ultimate] luoji &lt;luoji@example.com&gt;</span><br><span class="line">sub   rsa4096 2021-01-07 [E]</span><br></pre></td></tr></table></figure><h3 id="导出密钥文件"><a href="#导出密钥文件" class="headerlink" title="导出密钥文件"></a>导出密钥文件</h3><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --export-secret-keys -a C3DB73A9B0DE055246115ED2201DB741191B4EE3 &gt;private_key.asc</span><br><span class="line"></span><br><span class="line">$ cat<span class="keyword"> private</span>_key.asc</span><br><span class="line">-----BEGIN PGP PRIVATE KEY BLOCK-----</span><br><span class="line"></span><br><span class="line">lQcYBF/3OqkBEADb8pfJIOl39W8wMWdERLK733Kn9k5ZVMG2QA4Ewo6Mf+gVlcYY</span><br><span class="line">hqhgP7qn0ahMWkDJJcszdktKRuXs8FDh91dc+JKi9esnauWIQIJesQ/gEIBQM6mP</span><br><span class="line">GvxI/6eI5+FK8PcxaZivlVV9exunUO6HpQTMxqDZ3NUN/i/K16FBeDP8gklJ7l56</span><br><span class="line">5GSaShPRTaZOt6/dKg0v5viE5p0bhnZs5kpC7YPO/NtBibC8KlDXvDghmBQdn6uK</span><br><span class="line">5hGAi2KaJOyLOiw0NnxvzAUku1wTUcl0XoWagYhJVdxB6i7dtbJxXu607Ls+CicB</span><br><span class="line">FFLFOYe+Z+LsbCDhjKCUvsKBrbX1oF6FuAcS5CRFILH/a+ecJhLWFwzZgRIVM8ep</span><br><span class="line">+0TZTVBmlGfwMj3vB06eUbj3YbAj+sF5wmfP2TtMH0Ua+62OoGN2pos6N0bs6QxC</span><br><span class="line">71Az+jBP+IbvkHDGeg6t5Ajg+1gD7sfy/w43ulFjKZonOSv+CY0qeG0wDSsh4G4I</span><br><span class="line">VA7xc3YNsIYPG7VspORKoh5Ut5l0a35+cJIbgTJdv4wdWAuyMO6UZwzd0de7F+G0</span><br><span class="line">tiyArQFmJinRaDf4ITO3UGnuyuAZoQI46JU12sSwyopTEyH6pH5lsy8k1NAfZvyy</span><br><span class="line">0nJxA6OUSNvchS1I/l19XuZ6W++0PXPNMLjMtXSzrMupIWoMWkQzWNcmYQARAQAB</span><br><span class="line">AA/9Hb9It24ZGsf6EBrjwZWdACXaHEyxZLQ+4sb1CRXF28tszdviMpembCYSY6If</span><br><span class="line">0KZ1k/7lkFc+cD74gpGEuZsPQ3FnEQfmPwAz0mK51H6+tpTkwHQhnvY3tX5w3+ZP</span><br><span class="line">T9MZS6M21astKHnJpVkfzv61kHszbrkcTkvY65E7AQoggH/1KOeb+vkAK5Hl7kKX</span><br><span class="line">Qew7/9MxJ2UQquuEciA/IhQKFSqJz36JVOrUxA42aDHPpv4qMlDRuEkiMtrR13ve</span><br><span class="line">S3zu/5Ii8FKNRjOE4iQHSr2B9QHx4cvtVzOKFSL+4wXDjnq6CaEBN3cn3qlyP4FO</span><br><span class="line">F/W5LhLWoRIlEmQ2c5BgraspttcBAqq8nWdtbWR37UBlCOS9lj21JBKKh1Jdiqwx</span><br><span class="line">HC2jgtBzSiEk5FzerDQLRky5jJW0oIGKUgmS+DUXOkrQmAF20rMMyS5IB9BtZNSt</span><br><span class="line">zOM3O7DuvYTqye3t48ZyP+PBiwkeKBjCcKS/4y5g92NXedPQSb4Ks35SmkB1lXOq</span><br><span class="line">es7so4RBeqpoe5HfVH7uQStPhU+HJ0csPcxxgyc5HJVNN42KdAWot+YukkSoc7mC</span><br><span class="line">ZsgR6w98menExkF90E+r/m/3+gRMyLv/z0G2RVCOzpeUDF5dzmeA500Tid+Ms8jC</span><br><span class="line">4qI812Zu4awGHvb8cmtwyeqnLtyR4CBKGMgMprZqZP5tNCUIANxFB7t55IQkdxhT</span><br><span class="line">RXBQS4PsgvYSb6m/4P8Jqjl6wQcCf8mAJUg3a7qc3jXMwCNpKHjajgfXmfj29Tsl</span><br><span class="line">aJMyAZ3HsrrRFQNYc2Kbr1SIlgUnoTAAeERu2iGHme1YCIBiBWxkXAfAcTGTC/l9</span><br><span class="line">DouT7ufubbHwykEA9gPokgYG5F/m6NzkEivthfvA/xEDo4/INR+ECUCtwSYAWNr0</span><br><span class="line">eQiseQL+HSKJ2pjaOitd7qzF6B5YDMG6TSCUtwVqLdzo+gNTayNi/EHCbhsZ6qn3</span><br><span class="line">YCnQNlsBaf2xTB5M0BPoDovkn4k5sHmZr9XBN4VxMEFOjZRy6jvVEpaFiJX74hKy</span><br><span class="line">4jGls3MIAP+gML4l7y1ESnCI3HAaVe0ESkcpGVM+nhJtXnyly/AP4IltFdqGK9a9</span><br><span class="line">Njq7fYl48NDgafaTIUyBp7+BVElQG/TnV4wuBZTTJ/d2cDt6/OjZopf55uuepIaL</span><br><span class="line">BPAd7f++Q2wD7NBFtVJHzISlPjL80pE+H0uUbclnIkBV3l4gDfmLHF4ep583zqf3</span><br><span class="line">0EaitY5PjqppXZV/PjmhnTnH0cP4QmDKV2pwJ4zIUnxceTLWcGdrgwLA9BZlm493</span><br><span class="line">97f/deg4SkUyouJRhObtgm7hMkXzlDA/7EJBqfrft27VwcBHCYq4dzM+Ak5HzeHS</span><br><span class="line">wxrZwo7ebxRe+yBlOx8XXM1CVREkEdsH/24+q7+YIN9h5hWk0yn3RqNJarXboFxi</span><br><span class="line">+udTgzjf0ovkJBnVeJLi+X+sjPLRjXdAdldXRuA2z5pGBNd2fadOvb2k2NC5XfLI</span><br><span class="line">/s2iwtrJszoR1PwlgPlARH3y70nGVO+7EWpvA/stmRxXtjEQbzgHLga48PAhEK8E</span><br><span class="line">A1sm/XRgxp7NYMmVCDj+1ngD9gDxQG1on5hnsadUy/mIqkEMP6vAyj6j78pxI/xi</span><br><span class="line">ybpcGl3x+Sg3RjzHtfiWkPUxLjyzfrRGAWhHlHuT2Wch7NQr2K6o7j/ie6PzSvF3</span><br><span class="line">Wm/Ywv4AXU0MKs6nTzpykigOSCiKCnnWdshqzqv22D/mfcP04Jo0EeKH17QZbHVv</span><br><span class="line">amkgPGx1b2ppQGV4YW1wbGUuY29tPokCTgQTAQgAOBYhBMPbc6mw3gVSRhFe0iAd</span><br><span class="line">t0EZG07jBQJf9zqpAhsDBQsJCAcCBhUKCQgLAgQWAgMBAh4BAheAAAoJECAdt0EZ</span><br><span class="line">G07jMOEQALGebX44mgEemSzON6kwb4MHTA0GE+8R4P9/DrhY8fXr1bBAUET+dnLL</span><br><span class="line">O74oxOxRaCUZfX2maSsjjdTaGci1geuWTkDaUm/o+jI2disFLIb2zvi8nIvv2lLG</span><br><span class="line">7q/sS81te61NKB7cyE/1FSTmRDagywBn5zH9qO1VRZk5ntz3h+KwsOm/RzlPtKfz</span><br><span class="line">r6enekz/BpStRAQyihJp4LG0Vpn3LWXH5P7sK60QF4AGircEG/ttxptCGEHhWBK0</span><br><span class="line">vh2YHeDZ9cooyO9wq9WmFjSWB1nXh4aTi+qJD2JzckIsNBBnYnwgbld1Jjq+9N4L</span><br><span class="line">9lz7Mlm0ssdIVEq0io/rvS2m2C4dkW0QEFMMFn1X4tQUO/bePFoVEIRRtNMYWoCT</span><br><span class="line">FLnI+GGJUljDrTUefaimcFGGEqMVuBCaAPfT9lddwjaEEtvVMB1toEOk9rapLYqQ</span><br><span class="line">Z7ae1xJZ8bk/NpRv6rfocP72Xfp417tFnoCAPFbCofulH0EnoH/es6O14JZpH3M/</span><br><span class="line">LgMImTmKsWjuvB0VFmS3agfo54XqCf0u7BXUjY1FPUlZVY4VguBjN+txfJhda5Wr</span><br><span class="line">8YMyg84Akfz7+Lg/1hd0K369bHP57NhYMzrDjbM6nES+8zg6zHEzgEIjRdhX6dEk</span><br><span class="line">7maSM0X739jHP1i+hU5bG1+XnLciLFoNeoHjt14wnltFgj5U3QNznQcYBF/3OqkB</span><br><span class="line">EADY+RnHfyvTbSHP4s/7q/PSlTM56sjg+t+LF6Gz6p4orunNnbh1qjIrhLkh0yQc</span><br><span class="line">FJdvGo90XrqSx6IMtTc7kPbpHxIgReMK/V+QZxZO1SJz5+sn4xhWxOFXvwGbL9oi</span><br><span class="line">tvDssKGghRTG6XokGVQGb+S3p4RMpSKvmSNFs6/XI3o74sMJ3Nlx620VP/el6kl8</span><br><span class="line">gCxHnBmuPQLlgMiIx9gFRgqqs5Oixmlc6o7nPZuaBzLHm1yD9lZNpZxnpOc+G+l2</span><br><span class="line">20jAfAWfmo5zV9GJPn7q7CV4wetP86M3QRKE70Vu3v5/e1nTnp21ie7qoyhUoZ+v</span><br><span class="line">r+eoxby7J2IiDc+5AdHBrbSChTEUyU5wGDV6OOdVxnT0Nt4Ogtuq8nV/0CTbbxdt</span><br><span class="line">AcwkfAOh8NH1PkRtFV/OHTFk6Qy98llureCD/s/h+h1nBE99qPuMlgDbI3AYxvz9</span><br><span class="line">NPjqrZCc9hkLLrZwaDKwAGuqjPlikmw3l1q8pPk9c00tZ+5o37eE4dvNU9YDfbjN</span><br><span class="line">9F/Raq2rG//6MjTB12Y/NI/6AVIfJCOIdDjGyovq2hGO5sk5f8emR/lE87WfVMbG</span><br><span class="line">QPAFEMpfgzGFd1IasgYtDM2iqOxEd/g8tDV6FCw6tNXIVzy7EV3tEKwwqqbVsjGY</span><br><span class="line">wRJg1a7zX/LnWxal6mUSeCcyYi9nyvQbgB1EzbyZj6yTjwARAQABAA/+L+R8Pj7h</span><br><span class="line">659RMVP9WK4R+c+ZKRWcFZ0KruceeFo3Yv+I+CvyRXa18EkxnDfA5rnc21dfhu5J</span><br><span class="line">/JA4QtnVQT60YazMEXebsBdResxmbiw5mJ/+liVYf/6hRv8QWbLsUXFUKMqsQoRd</span><br><span class="line">m7J5lXJJy8nzEF7XoxtoVp5U3NPW4oQgPQvGxWyMSssOnvwpq+PVKLgaDgx01rL8</span><br><span class="line">6q/Mk/SYyEE3pYpR8kIdi7byqDQ/HnasTMcMWsyLLER8C5yotlru459vpZ06mIpD</span><br><span class="line">G06tH8A9v5k0hD05tcIvqsigT9uI1fo+7uDJaR6/7QxvQjeVdWjfmKYZWnWbPSxq</span><br><span class="line">St4Fle7C4B95klWZm0PVH6K/BZ6Xjq+K+K+wxYjqS71Ww4QOnZZViTtNixlSb1EJ</span><br><span class="line">KXwWPsk9dy956LstE3iONkdvK9e3GALEpheTE+b8CTQOZO8hQpog/40PLwkkG0mB</span><br><span class="line">C48t+fG2RbmOg8bp7AzYTHlt+usLRSbeTbQha1BeKMY0t+YDxm5LruSABiNp+IZc</span><br><span class="line">q0ysDjCauVd5WRqmcIgMPLPmfErSCZPump15XELm7ogI91V9+A8VlTIWL9KqD/8r</span><br><span class="line">u9vf5wB+Yky1JkiZ/5BiOygyXdL42uTOhT1gBg2U97AQEVDSPjo1MDfGyz0VzM9E</span><br><span class="line">SmHY23HrnPfwkvJ2jzZp4Dkz06wrDR7ikfEIAN2NoK/eF4OikuKiG1yN0/DvWjCg</span><br><span class="line">aewyr7BObsokF5md15Naka0AMv79UHStcfRCgqaee4Iv/sr1fkqLNV1pCOo/Z1tP</span><br><span class="line">vZ4uJxwfzOfwtiNCKhktwIMHjituGr0AyNXRyytY6wpsaJFNj5q4DS2x+Xx7HPXw</span><br><span class="line">TFUpIxlqgecqPZDPtKSTUS9BLjVqhTHh6Z3YKoB/h0SFYc2okcknd2Z4J32coMrS</span><br><span class="line">2s+1Hmey5wb4gU9FYYtDEAttPtEf+7x5tTu+FRosZNJ9BTQbf2ukMAgO+X0djI1u</span><br><span class="line">zFC57jjttfCWvGQA5/YTwT3PTPLShGxmngMfUD2qTdKzKgBMFOclfbEmwssIAPq1</span><br><span class="line">K5aeQrWnrE7IFxJYhbLh+fsYl6NvEy4iWXHAeygj/m0uahEyzE/q3IEM9ZvV/6bz</span><br><span class="line">gQUjVaqL07aNYITWeLaxa1EtGNUS7LOj74Fnfe2HZPDHKIRDevS+fjwphlVRC33X</span><br><span class="line">NA7XeOqdFD8hAza3HjdHRu0vbx6iNIhKgwCqAhq+HMimOhCc7m/UajiznuuUOuL5</span><br><span class="line">9xKtQCqzdJWLBc21G3SSQDgIM0v2cB8eH1C23o6TfjzDCuys+AwrD+j1pJr0P0Wf</span><br><span class="line">M+Az1ilBMdAW0h9R3hvBC6jv/YPjXrUwzkXYQr1I6mHMyKRwGChJ13iPX/jqGhTH</span><br><span class="line">U/9iRcmBUwLSQ4LJ5c0H/Rec6tiKm8l0UA0sKVY5rwzSQWyBrneT5gHzgSuMpP5k</span><br><span class="line">wq3AhgNSw2uiBGRmOMOttNCptBFB0hk/T7PMyyabtNx9NKDjP7tLRpu8GYjFB5RE</span><br><span class="line">Z4ndrWi9msb+5kNninGUmp0ynmNq1Y2pStuNFccZLAcSzaAgUaknibgL7YpIWri7</span><br><span class="line">19nK68WtTEnJHXzSu5I03prGg4/PUal19VGhxqVQbHhuUXLd/gjYgWMcsHmhzGnO</span><br><span class="line">iCBE9Odb8+scX6ic+sDgq8qKLPkknmSyid95Z7rt/yXrGg4zxkmI6GgmaYEJywID</span><br><span class="line">QZEfBP432p9lZhVrFEmOP4G5ehlJx89+wdMT5jHLeRt+oYkCNgQYAQgAIBYhBMPb</span><br><span class="line">c6mw3gVSRhFe0iAdt0EZG07jBQJf9zqpAhsMAAoJECAdt0EZG07jlGoP/Rpz9gFC</span><br><span class="line">+tqcKbR1OS3HlqOG6tQhwWb95VLKtJK7tPR/uufUFG38nv53HhAX1WCLIVM9TLuA</span><br><span class="line">dUaYSjzs24Q7g0G7BPhceJ2PcdHdqFnj/yOBT0v0vOesojAV0WcxnymNEE4tHvch</span><br><span class="line">DdcDxtAqZDVz3H1e7PTEKf6cjceilhhQdETCkziJM4JdAo3lNCTuMA6u1XzLCGM3</span><br><span class="line">ndbzXzwlAZNsugP1hV5OWR9T8rSZvnxcTC4ev3fTFPhU+TW4t1fvO68uLsbHyT+q</span><br><span class="line">YUdsEyuqOSrEHGN6f4obv32W6xXKCs3olZtI+daEBNNPvVIyk8hfEXpnv/61ea4s</span><br><span class="line">E6+fthpUH8DJ799YQyKbTEJtJrAES3tMBj4g/T9puAnORKHS9b9NbQXByb5YoNX3</span><br><span class="line">mtw7jqJeBpuhzFlb1/BixGJTWKjSY9smg7oSa+Op1kOHLr1ddaSf2KbOp9ywbI8L</span><br><span class="line">/SONu90os7LaMRE7k/FngpsHhfe6W1qW2VuelQei2Xmgt29SSHUZGJGdLbkWG8Y0</span><br><span class="line">klW5+wfFax/EHd9Q1/w8l0HXLZgnrGIkPdJLPGNlO3OSC9xmJqJWTe2c3yvWfpnD</span><br><span class="line">mcFf6irff/wgqixbzpTtoQzmqxgu7/5fNjSEl5qyFdo25cVlA9MntCBommvkvwc/</span><br><span class="line">GOvAbuA2X4GSlPessZ+aC6xl9kk1axv2DdzM</span><br><span class="line">=pbP9</span><br><span class="line">-----END PGP PRIVATE KEY BLOCK-----</span><br></pre></td></tr></table></figure><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --export -a C3DB73A9B0DE055246115ED2201DB741191B4EE3 &gt;public_key.asc</span><br><span class="line"></span><br><span class="line">$ cat public_key.asc</span><br><span class="line">-----BEGIN PGP PUBLIC KEY BLOCK-----</span><br><span class="line"></span><br><span class="line">mQINBF/<span class="number">3</span>OqkBEADb8pfJIOl39W8wMWdERLK733Kn9k5ZVMG2QA4Ewo6Mf+gVlcYY</span><br><span class="line">hqhgP7qn0ahMWkDJJcszdktKRuXs8FDh91dc+JKi9esnauWIQIJesQ/gEIBQM6mP</span><br><span class="line">GvxI<span class="regexp">/6eI5+FK8PcxaZivlVV9exunUO6HpQTMxqDZ3NUN/</span>i/K16FBeDP8gklJ7l56</span><br><span class="line"><span class="number">5</span>GSaShPRTaZOt6<span class="regexp">/dKg0v5viE5p0bhnZs5kpC7YPO/</span>NtBibC8KlDXvDghmBQdn6uK</span><br><span class="line"><span class="number">5</span>hGAi2KaJOyLOiw0NnxvzAUku1wTUcl0XoWagYhJVdxB6i7dtbJxXu607Ls+CicB</span><br><span class="line">FFLFOYe+Z+LsbCDhjKCUvsKBrbX1oF6FuAcS5CRFILH/a+ecJhLWFwzZgRIVM8ep</span><br><span class="line">+<span class="number">0</span>TZTVBmlGfwMj3vB06eUbj3YbAj+sF5wmfP2TtMH0Ua+<span class="number">62</span>OoGN2pos6N0bs6QxC</span><br><span class="line"><span class="number">71</span>Az+jBP+IbvkHDGeg6t5Ajg+<span class="number">1</span>gD7sfy/w43ulFjKZonOSv+CY0qeG0wDSsh4G4I</span><br><span class="line">VA7xc3YNsIYPG7VspORKoh5Ut5l0a35+cJIbgTJdv4wdWAuyMO6UZwzd0de7F+G0</span><br><span class="line">tiyArQFmJinRaDf4ITO3UGnuyuAZoQI46JU12sSwyopTEyH6pH5lsy8k1NAfZvyy</span><br><span class="line"><span class="number">0</span>nJxA6OUSNvchS1I/l19XuZ6W++<span class="number">0</span>PXPNMLjMtXSzrMupIWoMWkQzWNcmYQARAQAB</span><br><span class="line">tBlsdW9qaSA8bHVvamlAZXhhbXBsZS5jb20+iQJOBBMBCAA4FiEEw9tzqbDeBVJG</span><br><span class="line">EV7SIB23QRkbTuMFAl/<span class="number">3</span>OqkCGwMFCwkIBwIGFQoJCAsCBBYCAwECHgECF4AACgkQ</span><br><span class="line">IB23QRkbTuMw4RAAsZ5tfjiaAR6ZLM43qTBvgwdMDQYT7xHg/<span class="number">38</span>OuFjx9evVsEBQ</span><br><span class="line">RP52css7vijE7FFoJRl9faZpKyON1NoZyLWB65ZOQNpSb+j6MjZ2KwUshvbO+Lyc</span><br><span class="line">i+<span class="regexp">/aUsbur+xLzW17rU0oHtzIT/</span>UVJOZENqDLAGfnMf2o7VVFmTme3PeH4rCw6b9H</span><br><span class="line">OU+<span class="number">0</span>p<span class="regexp">/Ovp6d6TP8GlK1EBDKKEmngsbRWmfctZcfk/</span>uwrrRAXgAaKtwQb+<span class="number">23</span>Gm0IY</span><br><span class="line">QeFYErS+HZgd4Nn1yijI73Cr1aYWNJYHWdeHhpOL6okPYnNyQiw0EGdifCBuV3Um</span><br><span class="line">Or703gv2XPsyWbSyx0hUSrSKj+u9LabYLh2RbRAQUwwWfVfi1BQ79t48WhUQhFG0</span><br><span class="line"><span class="number">0</span>xhagJMUucj4YYlSWMOtNR59qKZwUYYSoxW4EJoA99P2V13CNoQS29UwHW2gQ6T2</span><br><span class="line">tqktipBntp7XElnxuT82lG<span class="regexp">/qt+hw/</span>vZd+njXu0WegIA8VsKh+<span class="number">6</span>UfQSegf96zo7Xg</span><br><span class="line">lmkfcz8uAwiZOYqxaO68HRUWZLdqB+jnheoJ/S7sFdSNjUU9SVlVjhWC4GM363F8</span><br><span class="line">mF1rlavxgzKDzgCR<span class="regexp">/Pv4uD/</span>WF3Qrfr1sc/ns2FgzOsONszqcRL7zODrMcTOAQiNF</span><br><span class="line"><span class="number">2</span>Ffp0STuZpIzRfvf2Mc/WL6FTlsbX5ectyIsWg16geO3XjCeW0WCPlTdA3O5Ag0E</span><br><span class="line">X<span class="regexp">/c6qQEQANj5Gcd/</span>K9NtIc<span class="regexp">/iz/</span>ur89KVMznqyOD634sXobPqniiu6c2duHWqMiuE</span><br><span class="line">uSHTJBwUl28aj3ReupLHogy1NzuQ9ukfEiBF4wr9X5BnFk7VInPn6yfjGFbE4Ve/</span><br><span class="line">AZsv2iK28OywoaCFFMbpeiQZVAZv5LenhEylIq+ZI0Wzr9cjejviwwnc2XHrbRU/</span><br><span class="line"><span class="number">96</span>XqSXyALEecGa49AuWAyIjH2AVGCqqzk6LGaVzqjuc9m5oHMsebXIP2Vk2lnGek</span><br><span class="line"><span class="number">5</span>z4b6XbbSMB8BZ+ajnNX0Yk+fursJXjB60<span class="regexp">/zozdBEoTvRW7e/</span>n97WdOenbWJ7uqj</span><br><span class="line">KFShn6+v56jFvLsnYiINz7kB0cGttIKFMRTJTnAYNXo451XGdPQ23g6C26rydX/Q</span><br><span class="line">JNtvF20BzCR8A6Hw0fU+RG0VX84dMWTpDL3yWW6t4IP+z+H6HWcET32o+<span class="number">4</span>yWANsj</span><br><span class="line">cBjG/P00+OqtkJz2GQsutnBoMrAAa6qM+WKSbDeXWryk+T1zTS1n7mjft4Th281T</span><br><span class="line"><span class="number">1</span>gN9uM30X9Fqrasb<span class="comment">//oyNMHXZj80j/oBUh8kI4h0OMbKi+raEY7myTl/x6ZH+UTz</span></span><br><span class="line">tZ9UxsZA8AUQyl+DMYV3UhqyBi0MzaKo7ER3+Dy0NXoULDq01chXPLsRXe0QrDCq</span><br><span class="line">ptWyMZjBEmDVrvNf8udbFqXqZRJ4JzJiL2fK9BuAHUTNvJmPrJOPABEBAAGJAjYE</span><br><span class="line">GAEIACAWIQTD23OpsN4FUkYRXtIgHbdBGRtO4wUCX/c6qQIbDAAKCRAgHbdBGRtO</span><br><span class="line"><span class="number">45</span>RqD<span class="regexp">/0ac/</span>YBQvranCm0dTktx5ajhurUIcFm<span class="regexp">/eVSyrSSu7T0f7rn1BRt/</span>J7+dx4Q</span><br><span class="line">F9VgiyFTPUy7gHVGmEo87NuEO4NBuwT4XHidj3HR3ahZ4/<span class="number">8</span>jgU9L9LznrKIwFdFn</span><br><span class="line">MZ8pjRBOLR73IQ3XA8bQKmQ1c9x9Xuz0xCn+nI3HopYYUHREwpM4iTOCXQKN5TQk</span><br><span class="line"><span class="number">7</span>jAOrtV8ywhjN53W8188JQGTbLoD9YVeTlkfU/K0mb58XEwuHr930xT4VPk1uLdX</span><br><span class="line"><span class="number">7</span>zuvLi7Gx8k/qmFHbBMrqjkqxBxjen+KG799lusVygrN6JWbSPnWhATTT71SMpPI</span><br><span class="line">XxF6Z7<span class="regexp">/+tXmuLBOvn7YaVB/</span>Aye<span class="regexp">/fWEMim0xCbSawBEt7TAY+IP0/</span>abgJzkSh0vW/</span><br><span class="line">TW0Fwcm+WKDV95rcO46iXgabocxZW9fwYsRiU1io0mPbJoO6EmvjqdZDhy69XXWk</span><br><span class="line">n9imzqfcsGyPC/<span class="number">0</span>jjbvdKLOy2jERO5PxZ4KbB4X3ultaltlbnpUHotl5oLdvUkh1</span><br><span class="line">GRiRnS25FhvGNJJVufsHxWsfxB3fUNf8PJdB1y2YJ6xiJD3SSzxjZTtzkgvcZiai</span><br><span class="line">Vk3tnN8r1n6Zw5nBX+oq33<span class="regexp">/8IKosW86U7aEM5qsYLu/</span>+XzY0hJeashXaNuXFZQPT</span><br><span class="line">J7QgaJpr5L8HPxjrwG7gNl+BkpT3rLGfmgusZfZJNWsb9g3czA==</span><br><span class="line">=<span class="number">6</span>rpY</span><br><span class="line">-----END PGP PUBLIC KEY BLOCK-----</span><br></pre></td></tr></table></figure><h3 id="删除GPG密钥"><a href="#删除GPG密钥" class="headerlink" title="删除GPG密钥"></a>删除GPG密钥</h3><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-secret-keys --keyid-format LONG</span><br><span class="line">-------------------------------</span><br><span class="line">sec   rsa4096/201DB741191B4EE3 2021-01-07 [SC]</span><br><span class="line"><span class="code">      C3DB73A9B0DE055246115ED2201DB741191B4EE3</span></span><br><span class="line">uid                 [ultimate] luoji &lt;luoji@example.com&gt;</span><br><span class="line">ssb   rsa4096/4F73374D480C0829 2021-01-07 [E]</span><br><span class="line"></span><br><span class="line">$ gpg --delete-secret-keys 4F73374D480C0829</span><br><span class="line"></span><br><span class="line">$ gpg --delete-keys C3DB73A9B0DE055246115ED2201DB741191B4EE3</span><br></pre></td></tr></table></figure><h3 id="导入GPG密钥"><a href="#导入GPG密钥" class="headerlink" title="导入GPG密钥"></a>导入GPG密钥</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --<span class="keyword">import</span> private_key.asc</span><br><span class="line"><span class="attr">gpg:</span> key <span class="number">201</span><span class="attr">DB741191B4EE3:</span> <span class="keyword">public</span> key <span class="string">&quot;luoji &lt;luoji@example.com&gt;&quot;</span> imported</span><br><span class="line"><span class="attr">gpg:</span> key <span class="number">201</span><span class="attr">DB741191B4EE3:</span> secret key imported</span><br><span class="line"><span class="attr">gpg:</span> Total number <span class="attr">processed:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">gpg:</span>               <span class="attr">imported:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">gpg:</span>       secret keys <span class="attr">read:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">gpg:</span>   secret keys <span class="attr">imported:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --<span class="keyword">import</span> public_key.asc</span><br><span class="line"><span class="attr">gpg:</span> key <span class="number">201</span><span class="attr">DB741191B4EE3:</span> <span class="string">&quot;luoji &lt;luoji@example.com&gt;&quot;</span> not changed</span><br><span class="line"><span class="attr">gpg:</span> Total number <span class="attr">processed:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">gpg:</span>              <span class="attr">unchanged:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>查看导入密钥</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-secret-keys --keyid-format LONG</span><br><span class="line">sec   rsa4096/201DB741191B4EE3 2021<span class="string">-01</span><span class="string">-07</span> [SC]</span><br><span class="line">      C3DB73A9B0DE055246115ED2201DB741191B4EE3</span><br><span class="line">uid                 [ unknown] luoji &lt;luoji@example.com&gt;</span><br><span class="line">ssb   rsa4096/4F73374D480C0829 2021<span class="string">-01</span><span class="string">-07</span> [E]</span><br></pre></td></tr></table></figure><p>密钥被导入了，想要将GPG密钥导入其它机器，只需拷贝文件后再导入。</p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/git/" rel="tag"># git</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag"># 工具</a> <a href="/tags/gpg/" rel="tag"># gpg</a> <a href="/tags/encrypt/" rel="tag"># encrypt</a></div><div class="post-nav"><div class="post-nav-item"><a href="/%E5%B7%A5%E5%85%B7/gpg-for-git-20200720.html" rel="prev" title="开启GPG对提交Commit签名"><i class="fa fa-chevron-left"></i> 开启GPG对提交Commit签名</a></div><div class="post-nav-item"></div></div></footer></article></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%9C%A8%E7%9A%84-GPG"><span class="nav-number">1.</span> <span class="nav-text">查看存在的 GPG</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%87%BA%E5%AF%86%E9%92%A5%E6%96%87%E4%BB%B6"><span class="nav-number">2.</span> <span class="nav-text">导出密钥文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4GPG%E5%AF%86%E9%92%A5"><span class="nav-number">3.</span> <span class="nav-text">删除GPG密钥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5GPG%E5%AF%86%E9%92%A5"><span class="nav-number">4.</span> <span class="nav-text">导入GPG密钥</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="luoji" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">luoji</p><div class="site-description" itemprop="description">点滴生活 乐在其中</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">79</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories"><span class="site-state-item-count">19</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags"><span class="site-state-item-count">132</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/gunsluo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gunsluo" rel="noopener" target="_blank"><i class="github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://git.oschina.net/gunsluo" title="OsChina → http:&#x2F;&#x2F;git.oschina.net&#x2F;gunsluo" rel="noopener" target="_blank"><i class="code fa-fw"></i> OsChina</a></span><span class="links-of-author-item"><a href="https://twitter.com/gunsluo" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;gunsluo" rel="noopener" target="_blank"><i class="twitter fa-fw"></i> Twitter</a></span><span class="links-of-author-item"><a href="https://www.facebook.com/gunsluo" title="Facebook → https:&#x2F;&#x2F;www.facebook.com&#x2F;gunsluo" rel="noopener" target="_blank"><i class="facebook fa-fw"></i> Facebook</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="user"></i></span> <span class="author" itemprop="copyrightHolder">luoji</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div><script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"EIRSFQCtgqHK7eaOtlKs0umf-gzGzoHsz","app_key":"9myi3PwxM16hJ5efRBQhTaXf","server_url":null,"security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'a08a92a93c341ccd90ca',
      clientSecret: '6cde4abcd0c6a6df7b8ee32f0d2205953aa86b89',
      repo        : 'gunsluo.github.io',
      owner       : 'gunsluo',
      admin       : ['gunsluo'],
      id          : 'e6345f4adcc9f2ced2d065d4f069a807',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>